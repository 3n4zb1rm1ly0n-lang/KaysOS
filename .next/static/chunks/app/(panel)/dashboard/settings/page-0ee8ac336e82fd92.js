(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{20067:function(){},72061:function(){},13486:function(e,r,t){Promise.resolve().then(t.bind(t,96922))},96922:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var a=t(57437),s=t(2265),i=t(10866),n=t(99397),l=t(62720),o=t(18930),d=t(50091),c=t(61649),m=t(15863),x=t(92735),u=t(48736),p=t(5526),h=t(2093),g=t(53375),f=t(46994);function y(){let[e,r]=(0,s.useState)(!1),[t,y]=(0,s.useState)([]),[b,j]=(0,s.useState)("income"),[N,v]=(0,s.useState)(""),[k,w]=(0,s.useState)(!1),_=async()=>{w(!0);let{data:e,error:r}=await p.O.from("categories").select("*");e&&y(e),w(!1)},O=async()=>{if(N.trim())try{let{data:e,error:r}=await p.O.from("categories").insert([{name:N,type:b}]).select();if(r)throw r;e&&(y([...t,e[0]]),v(""))}catch(e){console.error("Error adding category:",e),alert("Kategori eklenirken hata oluştu.")}},S=async e=>{if(confirm("Bu kategoriyi silmek istediğinize emin misiniz?"))try{let{error:r}=await p.O.from("categories").delete().eq("id",e);if(r)throw r;y(t.filter(r=>r.id!==e))}catch(e){console.error("Error deleting category:",e)}};(0,s.useState)(()=>{_()});let C=async()=>{let[e,r,t]=await Promise.all([p.O.from("incomes").select("*"),p.O.from("expenses").select("*"),p.O.from("debts").select("*")]);return{incomes:e.data||[],expenses:r.data||[],debts:t.data||[]}},Z=async()=>{r(!0);try{let{incomes:e,expenses:r,debts:t}=await C(),a=h.P6.book_new(),s=h.P6.json_to_sheet(e);h.P6.book_append_sheet(a,s,"Gelirler");let i=h.P6.json_to_sheet(r);h.P6.book_append_sheet(a,i,"Giderler");let n=h.P6.json_to_sheet(t);h.P6.book_append_sheet(a,n,"Bor\xe7lar");let l=new Date().toISOString().split("T")[0];h.NC(a,"KaysOS_Finans_Raporu_".concat(l,".xlsx"))}catch(e){console.error(e),alert("Rapor oluşturulurken hata \xe7ıktı.")}finally{r(!1)}},I=async()=>{r(!0);try{let{incomes:e,expenses:r}=await C(),t=new g.ZP;t.setFontSize(18),t.text("Kaysia OS - Finansal Rapor",14,22),t.setFontSize(11),t.text("Tarih: ".concat(new Date().toLocaleDateString("tr-TR")),14,30),t.text("Gelirler",14,40),(0,f.ZP)(t,{startY:45,head:[["Tarih","Kaynak","Kategori","Tutar","Durum"]],body:e.map(e=>[e.date,e.source,e.category,"₺".concat(e.amount),e.status]),theme:"striped",headStyles:{fillColor:[22,163,74]}});let a=t.lastAutoTable.finalY||45;t.text("Giderler",14,a+15),(0,f.ZP)(t,{startY:a+20,head:[["Tarih","Yer","Kategori","Tutar","Odeme"]],body:r.map(e=>[e.date,e.recipient,e.category,"₺".concat(e.amount),e.payment_method]),theme:"striped",headStyles:{fillColor:[220,38,38]}}),t.save("KaysOS_Rapor_".concat(new Date().toISOString().split("T")[0],".pdf"))}catch(e){console.error(e),alert("PDF oluşturulurken hata \xe7ıktı.")}finally{r(!1)}};return(0,a.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Ayarlar & Veri Y\xf6netimi"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Sistem tercihlerinizi yapılandırın, kategorileri d\xfczenleyin ve finansal raporlarınızı dışa aktarın."})]}),(0,a.jsxs)("div",{className:"border rounded-xl bg-card overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b bg-secondary/10 flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Kategori ve İ\xe7erik Y\xf6netimi"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Gelir, gider ve diğer işlemler eklerken \xe7ıkan a\xe7ılır men\xfclerdeki se\xe7enekleri buradan \xf6zelleştirebilirsiniz."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6 border-b pb-4",children:[(0,a.jsx)("button",{onClick:()=>j("income"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("income"===b?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:"Gelirler"}),(0,a.jsx)("button",{onClick:()=>j("expense"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("expense"===b?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:"Giderler"}),(0,a.jsx)("button",{onClick:()=>j("debt"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("debt"===b?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:"Bor\xe7lar"}),(0,a.jsx)("button",{onClick:()=>j("invoice"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("invoice"===b?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:"Faturalar"}),(0,a.jsx)("button",{onClick:()=>j("saving"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("saving"===b?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:"Birikimler"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Yeni kategori adı...",className:"flex-1 px-4 py-2 bg-secondary/50 rounded-lg border-none outline-none focus:ring-2 focus:ring-primary/20",value:N,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&O()}),(0,a.jsxs)("button",{onClick:O,disabled:!N.trim(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg flex items-center gap-2 font-medium hover:bg-primary/90 disabled:opacity-50",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),"Ekle"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 min-h-[100px] p-4 bg-secondary/20 rounded-xl border border-dashed border-border",children:0===t.filter(e=>e.type===b).length?(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground py-4",children:[(0,a.jsx)(l.Z,{className:"w-8 h-8 mb-2 opacity-20"}),(0,a.jsx)("p",{children:"Hen\xfcz kategori eklenmemiş."})]}):t.filter(e=>e.type===b).map(e=>(0,a.jsxs)("div",{className:"group flex items-center gap-2 px-3 py-1.5 bg-card border rounded-lg shadow-sm animate-in fade-in zoom-in duration-200",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)("button",{onClick:()=>S(e.id),className:"text-muted-foreground hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:(0,a.jsx)(o.Z,{className:"w-3.5 h-3.5"})})]},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"border rounded-xl bg-card overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b bg-secondary/10 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Veri Dışa Aktarımı (Raporlama)"})]}),(0,a.jsxs)("div",{className:"p-6 grid md:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-green-500/5 border border-green-500/10",children:[(0,a.jsx)("div",{className:"p-2 bg-green-500/10 rounded-lg",children:(0,a.jsx)(c.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:"Excel Raporu (.xlsx)"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"T\xfcm gelir, gider ve bor\xe7 verilerini ayrı sayfalar halinde ham veri olarak indirir. Detaylı analiz i\xe7in uygundur."}),(0,a.jsxs)("button",{onClick:Z,disabled:e,className:"mt-4 flex items-center gap-2 text-sm font-medium text-green-600 hover:text-green-700 transition-colors",children:[e?(0,a.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Excel Olarak İndir"]})]})]})}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-red-500/5 border border-red-500/10",children:[(0,a.jsx)("div",{className:"p-2 bg-red-500/10 rounded-lg",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-foreground",children:"PDF Raporu (.pdf)"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Resmi bir formatta gelir ve gider listesini sunar. \xc7ıktı almak veya paylaşmak i\xe7in idealdir."}),(0,a.jsxs)("button",{onClick:I,disabled:e,className:"mt-4 flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[e?(0,a.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"PDF Olarak İndir"]})]})]})})]})]}),(0,a.jsxs)("div",{className:"border rounded-xl bg-card",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h3",{className:"font-semibold",children:"Genel Tercihler"})}),(0,a.jsx)("div",{className:"p-6 space-y-4 opacity-50 pointer-events-none",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Karanlık Mod"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uygulama temasını değiştirin"})]}),(0,a.jsx)("div",{className:"w-10 h-6 bg-primary/20 rounded-full relative",children:(0,a.jsx)("div",{className:"absolute right-1 top-1 w-4 h-4 bg-primary rounded-full"})})]})}),(0,a.jsx)("div",{className:"bg-secondary/30 p-4 text-center text-sm text-muted-foreground",children:"Diğer ayarlar yakında eklenecek."})]})]})}},5526:function(e,r,t){"use strict";t.d(r,{O:function(){return a}});let a=(0,t(13053).eI)("https://veyokbxkhyqaejautyva.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleW9rYnhraHlxYWVqYXV0eXZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxMTY2ODksImV4cCI6MjA4NTY5MjY4OX0.69XhSOD4tQnpZASl2rCngcVLfO_b68tQTI6K16S9dGY")}},function(e){e.O(0,[425,125,505,537,552,971,117,744],function(){return e(e.s=13486)}),_N_E=e.O()}]);